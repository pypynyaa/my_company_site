# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ **–≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ) –≤ Telegram —á–µ—Ä–µ–∑ –±–æ—Ç–∞.

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Friends Story Bot")
   - –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `friends_story_bot`)
4. BotFather –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –≤–∞–º **—Ç–æ–∫–µ–Ω** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ

## –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—É—é –≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∫–∞–∫ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã ‚Üí –£—á–∞—Å—Ç–Ω–∏–∫–∏ ‚Üí –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≥—Ä—É–ø–ø—ã ‚Üí –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –Ω–∞–∑–Ω–∞—á—å—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

## –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ file_id –∏ message_id –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–î–ª—è —Ç–µ–∫—Å—Ç–∞**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤ –≥—Ä—É–ø–ø—É ‚Üí –ø–æ–ª—É—á–∏—Ç–µ `message_id` (—á–∏—Å–ª–æ)
2. **–î–ª—è —Ñ–æ—Ç–æ**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø—É ‚Üí –ø–æ–ª—É—á–∏—Ç–µ `file_id` (—Å—Ç—Ä–æ–∫–∞)
3. **–î–ª—è –≤–∏–¥–µ–æ**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ –≤ –≥—Ä—É–ø–ø—É ‚Üí –ø–æ–ª—É—á–∏—Ç–µ `file_id` (—Å—Ç—Ä–æ–∫–∞)

### –ü–æ–ª—É—á–µ–Ω–∏–µ file_id/message_id

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è file_id:

```javascript
// bot-listener.js
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ: node bot-listener.js

const TelegramBot = require('node-telegram-bot-api');

const token = 'YOUR_BOT_TOKEN'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
const bot = new TelegramBot(token, { polling: true });

bot.on('message', (msg) => {
  if (msg.video) {
    console.log('Video file_id:', msg.video.file_id);
    console.log('Video file_unique_id:', msg.video.file_unique_id);
  }
  
  if (msg.photo) {
    const photo = msg.photo[msg.photo.length - 1]; // –ë–µ—Ä–µ–º —Ñ–æ—Ç–æ –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
    console.log('Photo file_id:', photo.file_id);
  }
  
  if (msg.document) {
    console.log('Document file_id:', msg.document.file_id);
  }
});

console.log('–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤ –≥—Ä—É–ø–ø—É —Å –±–æ—Ç–æ–º...');
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Telegram Web API

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram API –Ω–∞–ø—Ä—è–º—É—é:

```bash
# –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
curl "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates"

# –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ –ø–æ–ª–µ "file_id" –¥–ª—è –≤–∞—à–µ–≥–æ –≤–∏–¥–µ–æ
```

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

üìù **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: –°–º. —Ñ–∞–π–ª `SETUP_TOKEN.md`

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```env
VITE_TELEGRAM_BOT_TOKEN=your_bot_token_here
VITE_TELEGRAM_CHAT_ID=your_chat_id_here
```

**–ì–¥–µ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω?** ‚Üí –°–º. `SETUP_TOKEN.md`

## –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ)
4. **–í–≤–µ–¥–∏—Ç–µ file_id –∏–ª–∏ message_id** –∏–∑ Telegram
5. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–ø–∏—Å—å –∏ –∞–≤—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å"

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å file_id/message_id:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)**
```javascript
// bot-listener.js
const TelegramBot = require('node-telegram-bot-api');
const token = 'YOUR_BOT_TOKEN';
const bot = new TelegramBot(token, { polling: true });

bot.on('message', (msg) => {
  console.log('Message ID:', msg.message_id);
  
  if (msg.text) {
    console.log('Text message_id:', msg.message_id);
  }
  
  if (msg.photo) {
    const photo = msg.photo[msg.photo.length - 1];
    console.log('Photo file_id:', photo.file_id);
  }
  
  if (msg.video) {
    console.log('Video file_id:', msg.video.file_id);
  }
});
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API (–≤—Ä—É—á–Ω—É—é)**
```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
curl "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates"

# –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ:
# - message_id –¥–ª—è —Ç–µ–∫—Å—Ç–∞
# - file_id –¥–ª—è —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
```

## –®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL:

```sql
-- –¢–µ–∫—Å—Ç
INSERT INTO memories (type, content, year_number, caption)
VALUES ('text', '–¢–µ–∫—Å—Ç –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è', 1, '–ü–æ–¥–ø–∏—Å—å');

-- –§–æ—Ç–æ —Å Telegram
INSERT INTO memories (type, content, telegram_file_id, year_number, caption)
VALUES ('photo', '', 'YOUR_TELEGRAM_FILE_ID', 1, '–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ç–æ');

-- –í–∏–¥–µ–æ —Å Telegram
INSERT INTO memories (type, content, telegram_file_id, year_number, caption)
VALUES ('video', '', 'YOUR_TELEGRAM_FILE_ID', 1, '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∏–¥–µ–æ');
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: 
- –°—Å—ã–ª–∫–∏ –∏–∑ Telegram API –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã —Ç–æ–ª—å–∫–æ –æ–∫–æ–ª–æ 1 —á–∞—Å–∞
- –ü–æ—ç—Ç–æ–º—É –º—ã —Ö—Ä–∞–Ω–∏–º `file_id`/`message_id`, –∞ –Ω–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å–≤–µ–∂—É—é —Å—Å—ã–ª–∫—É –∏–∑ Telegram

‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Telegram**:
- **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ù–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –≤ Supabase Storage
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ Telegram CDN
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–∫—Å—Ç–∞, —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç –≤ Telegram –≥—Ä—É–ø–ø—É** —Å –±–æ—Ç–æ–º:
   - –¢–µ–∫—Å—Ç ‚Üí –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –§–æ—Ç–æ/–í–∏–¥–µ–æ ‚Üí –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª

2. **–ü–æ–ª—É—á–∏—Ç–µ ID**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—ã—à–µ –∏–ª–∏ API
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `message_id` (–¥–ª—è —Ç–µ–∫—Å—Ç–∞) –∏–ª–∏ `file_id` (–¥–ª—è —Ñ–∞–π–ª–æ–≤)

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è
   - –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π ID
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–ø–∏—Å—å –∏ –∞–≤—Ç–æ—Ä–∞
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

4. **–ö–æ–Ω—Ç–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –∏–∑ Telegram –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ!

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≤–µ–±—Ö—É–∫ –∏–ª–∏ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∏–¥–µ–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–µ. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram Bot API –∏ Supabase API.

